const planPathes=document.querySelectorAll(".facade-plan__path"),floorPathes=document.querySelectorAll(".floor_path");planPathes&&planPathes.forEach(o=>{o.addEventListener("click",()=>{Fancybox.show([{src:"#floorModal",type:"inline"}],{dragToClose:!1,mainClass:"modal-floor__container"})})}),floorPathes&&floorPathes.forEach(o=>{o.addEventListener("click",()=>{Fancybox.show([{src:"#flatModal",type:"inline"}],{dragToClose:!1,mainClass:"modal-floor__container"})})});
!function(){jQuery.fn.slideFadeClose=function(t,a,i){return this.animate({opacity:"hide",height:"hide"},t,a,i)},jQuery.fn.slideFadeOpen=function(t,a,i){return this.animate({opacity:"show",height:"show"},t,a,i)},$((function(){$("#flat-block-info").click((function(){return $("#popup-detail").fadeIn(300,(function(){$("body").addClass("locked")})),!1}))}));var t={};$((function(){var a=0;$(".genplan-wrap .slide").each((function(){var i,e,s,o=$("#slides").height(),n=$("#slides").width(),r=n/o,d=0,l=0,h=$(this),p=$(this).data("svgblock"),c=$(this).data("image"),f=$(this),g=t[p]=SVG().addTo("#"+p);console.log(t,p),a++,void 0===$(this).attr("id")&&$(this).attr("id","slide_"+(e=0,s=1e4,Math.floor(Math.random()*(s-e+1))+e)),i=$(this).attr("id"),f.css("marginTop",0),f.css("marginLeft",0);var u=new SVG.List([]),v=new SVG.List([]),m=(g.image(c,(function(t){var a=t.target;g.prop_w=a.naturalWidth,g.prop_h=a.naturalHeight||g.prop_w,g.ratio=g.prop_w/g.prop_h,g.container=i,g.ratio>r?(d=o,l=g.ratio*d,f.css("marginLeft",-Math.abs(l-n)/2+"px")):(d=(l=n)/g.ratio,f.css("marginTop",-Math.abs(d-o)/2+"px")),g.size(l,d),g.viewbox(0,0,g.prop_w,g.prop_h),this.size(g.prop_w,g.prop_h)})),0);h.find(".area").each((function(){var t=$(this).data("coords");if(void 0!==t&&t){var i=void 0!==$(this).data("tooltip")&&1==$(this).data("tooltip"),e=$(this).data("url")||"";m++;var s=a+"_"+m,o=$(this).data("houseid")||"",n=$(this).data("ttactive")||0,r=g.path(t).attr({fill:"rgba(255,180,1,0.6)",opacity:.15,id:"area_"+s}).addClass("area_path").data("url",e);if(i&&r.data({linked_tooltip:"area_tooltip_"+s,houseid:o,ttactive:n}),u.push(r),i){var d,l=$(this).data("ttdir")||"top",h=$(this).data("ttposx")||0,p=$(this).data("ttposy")||0,c=$(this).data("tttext")||"",f=$(this).data("ttscale")||1,_=$(this).data("ttbgcolor")||"#0C52C2",w=$(this).data("ttbghover")||"#FFB401",b=$(this).data("tttextcolor")||"#ffffff",x=$(this).data("tttexthover")||"#2F3130",k=$(this).data("ttfontsize")||18,y=$(this).data("ttsubt")||"",C=g.group().attr({id:"area_tooltip_"+s}).addClass("pl_group").data({linked_area:"area_"+s});switch(C.data({ttbgcolor:_,ttbghover:w}),C.data({tttextcolor:b,tttexthover:x}),l){case"left":d=C.path("M-15,-19 H-106 Q-110,-19 -110,-16 V16 Q-110,19 -106,19 H-15 L-1,2 Q1,0 -1,-2 Z");break;case"right":d=C.path("M15,-19 H106 Q110,-19 110,-16 V16 Q110,19 106,19 H15 L1,2 Q-1,0 1,-2 Z");break;default:d=C.path("M0,0 l-8,-12 h-43 v-40 h101 v40 h-43 Z")}d.attr({fill:_}).addClass("pl_bg"),C.text((function(t){t.tspan(c),y.length&&t.tspan(y).newLine().font({size:k-5})})).font({family:"PT Sans Narrow",size:k,anchor:"middle",leading:"1em"}).center(0,-.6*d.height()).attr({"text-anchor":"middle","font-weight":"bold",fill:b}).addClass("pl_text"),C.center(h,p-.5*d.height()).scale(f),v.push(C)}}})),u.mouseover((function(){if(this.timeline().stop(),this.animate(200,0,"now").ease("<>").attr({opacity:1}),void 0!==this.data("linked_tooltip")){var t=SVG("#"+this.data("linked_tooltip")),a=t.find("path.pl_bg"),i=t.find(".pl_text");a.timeline().stop(),a.animate(200,0,"now").ease("<>").attr({fill:t.data("ttbghover")}),i.timeline().stop(),i.animate(200,0,"now").ease("<>").attr({fill:t.data("tttexthover")})}})).mouseout((function(){if(this.timeline().stop(),this.animate(200,0,"now").ease("<>").attr({opacity:.15}),void 0!==this.data("linked_tooltip")){var t=SVG("#"+this.data("linked_tooltip")),a=t.find("path.pl_bg"),i=t.find(".pl_text");a.timeline().stop(),a.animate(200,0,"now").ease("<>").attr({fill:t.data("ttbgcolor")}),i.timeline().stop(),i.animate(200,0,"now").ease("<>").attr({fill:t.data("tttextcolor")})}})).click((function(){this.data("ttactive")&&openHouse(this.data("houseid"))}))})),$(".genplan-wrap a.arrow").click((function(){var t,a=$(".genplan-wrap .slide"),i=$(".genplan-wrap .slide.active");return $(this).hasClass("left")&&(0==(t=i.prev(".slide")).length&&(t=a.last()),t),$(this).hasClass("right")&&(0==(t=i.next(".slide")).length&&(t=a.first()),t),i.fadeTo(300,0,(function(){$(this).removeClass("active"),$(this).css("display","none")})),t.fadeTo(300,1,(function(){$(this).addClass("active")})),!1})),jQuery(window).resize((function(){var a=$("#slides").height(),i=$("#slides").width(),e=i/a;for(var s in console.log(t),t){var o=t[s],n=0,r=0,d=$("#"+o.container);d.css("marginTop",0),d.css("marginLeft",0),o.ratio>e?(r=a,n=o.ratio*r,d.css("marginLeft",-Math.abs(n-i)/2+"px")):(r=(n=i)/o.ratio,d.css("marginTop",-Math.abs(r-a)/2+"px")),o.size(n,r)}}))}))}();
const mainContentWrap=document.querySelector(".main-content"),menuBtn=document.querySelector(".menu-btn"),sideMenu=document.querySelector(".side-menu"),callorderButtons=document.querySelectorAll("[data-modal]"),closeButtons=document.querySelectorAll(".modal-close");function toggleClass(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function toggleTabs(e,t){if(!e||!t)return;const n=t.querySelectorAll(".tab");e.classList.contains("active")||e.classList.add("active"),n&&n.length>0&&n.forEach(t=>{t===e&&t.classList.contains("active")||t!==e&&t.classList.contains("active")&&t.classList.remove("active")})}function changeContentSlide(e,t){if(!e||!t)return;const n=t.querySelectorAll(".content-slide");n&&n.length>0&&n.forEach(t=>{t===e&&"block"===t.style.display||(t!==e&&"block"===t.style.display?t.style.display="none":t.style.display="block")})}Fancybox.defaults.closeButton=!1,Fancybox.bind("[data-fancybox]",{}),closeButtons&&closeButtons.forEach(e=>{e.addEventListener("click",()=>{Fancybox.getInstance().close()})}),menuBtn&&menuBtn.addEventListener("click",()=>{toggleClass(menuBtn,"active"),toggleClass(sideMenu,"active"),toggleClass(mainContentWrap,"darken")}),$(".js-range-slider").ionRangeSlider({});
function initMaps(){ymaps.ready(()=>{const e=document.querySelectorAll(".map");e.length>0&&e.forEach(e=>{const o=e.dataset;e.innerHTML='<div id="ymap_ctrl_display" style="display: none; width: 100%; height: 100%; position: absolute; background-color: rgba(0, 0, 0, 0.5); z-index: 100; pointer-events: none;"><div style="position: relative; top: 50%; left: 0; right: 0; color: white; text-align: center; font-size: 1.8em; pointer-events: none;">Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.</div></div>';let t=new ymaps.Map(e,{center:[o.lat,o.lng],zoom:o.zoom,controls:[]});if(o.dots){JSON.parse(o.dots).forEach(e=>{dotPlacemark=new ymaps.Placemark([e.lat,e.lng],{},{iconLayout:"default#image",iconImageHref:e.image||"",iconImageSize:[30,42],iconImageOffset:[-5,-38]}),t.geoObjects.add(dotPlacemark)})}if(t.behaviors.disable("scrollZoom"),window.innerWidth>768){var a,n=!1,i=!1;t.events.add(["wheel","mousedown"],(function(e){"wheel"==e.get("type")&&(n?$("#ymap_ctrl_display").fadeOut(100):($("#ymap_ctrl_display").fadeIn(300),i=!0,clearTimeout(a),a=setTimeout((function(){$("#ymap_ctrl_display").fadeOut(300),i=!1}),1500))),"mousedown"==e.get("type")&&i&&$("#ymap_ctrl_display").fadeOut(100)})),$(document).keydown((function(e){17!==e.which||n||(n=!0,t.behaviors.enable("scrollZoom"))})),$(document).keyup((function(e){17===e.which&&(n=!1,t.behaviors.disable("scrollZoom"))}))}})})}
if(window.mobileAndTabletCheck=function(){let e=!1;var a;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(e=!0),e},!window.mobileAndTabletCheck()){function parallax_scroll_handler(e){const a=e.querySelector("img.parallax-image"),t=a.getAttribute("data-height")||"500px",i=parseFloat(a.getAttribute("data-speed"))||.3,o=e.getBoundingClientRect().top,r=`calc((${window.innerHeight}px - ${t}) * ${i} + ${t})`;a.style.transform=`translateY(${o*-i}px)`,a.style.height=""+r}function init_parallax(){const e=document.querySelectorAll("img.parallax-image");Array.from(e).forEach(e=>{const a=document.createElement("div");a.className="parallax-image-wrapper",a.innerHTML=e.outerHTML,a.style.height=e.getAttribute("data-height")||"500px",e.replaceWith(a),parallax_scroll_handler(a),document.querySelector(".main-wrap").addEventListener("scroll",()=>parallax_scroll_handler(a)),document.querySelector(".main-wrap").addEventListener("touchmove",()=>parallax_scroll_handler(a))})}document.addEventListener("DOMContentLoaded",init_parallax()),window.addEventListener("resize",init_parallax())}
$(".select").each((function(){const e=$(this),t=e.find("option"),s=t.length;t.filter(":selected");e.hide();const l=$("<div>",{class:"new-select__wrap"});e.wrap(l);const n=$("<div>",{class:"new-select",text:e.children("option:selected").text()});n.append('<svg width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 8.00012L0.669873 0.500122L9.33013 0.500123L5 8.00012Z" fill="#492E16"/></svg>'),n.insertAfter(e);const i=e.next(".new-select");$("<div>",{class:"new-select__list"}).insertAfter(i);const a=i.next(".new-select__list");for(let e=0;e<s;e++)$("<div>",{class:"new-select__item",html:$("<span>",{text:t.eq(e).text()})}).attr("data-value",t.eq(e).val()).appendTo(a);const c=a.find(".new-select__item");function o(){a.css({paddingTop:e.parent().height(),marginTop:-e.parent().height()})}a.removeClass("active"),i.on("click",(function(){$(this).hasClass("on")?($(this).removeClass("on"),a.removeClass("active")):($(this).addClass("on"),a.addClass("active"),c.on("click",(function(){let e=$(this).data("value");$("select").val(e).attr("selected","selected"),i.text($(this).find("span").text()),a.removeClass("active"),i.removeClass("on")})))})),o(),$(window).on("resize",()=>{o()})})),$(".typeSelect").each((function(){const e=$(this),t=e.find("option"),s=t.length;t.filter(":selected");e.hide(),e.wrap('<div class="type-select__wrap"></div>');const l=$("<div>",{class:"type-select",text:e.children("option:selected").text()});l.append('<svg width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 8.00012L0.669873 0.500122L9.33013 0.500123L5 8.00012Z" fill="#492E16"/></svg>'),l.insertAfter(e);const n=e.next(".type-select");$("<div>",{class:"type-select__list"}).insertAfter(n);const i=n.next(".type-select__list");for(let e=0;e<s;e++)$("<div>",{class:"type-select__item",html:$("<span>",{text:t.eq(e).text()})}).attr("data-value",t.eq(e).val()).appendTo(i);const a=i.find(".type-select__item");i.removeClass("active"),n.on("click",(function(){$(this).hasClass("on")?($(this).removeClass("on"),i.removeClass("active")):($(this).addClass("on"),i.addClass("active"),a.on("click",(function(){let e=$(this).data("value");$("select").val(e).attr("selected","selected"),n.text($(this).find("span").text()),i.removeClass("active"),n.removeClass("on")})))}))}));
document.addEventListener("DOMContentLoaded",()=>{new Swiper(".main-slider",{speed:500,slidesPerView:1,loop:!0,pagination:{el:".main-slider__pagination"},navigation:{nextEl:".main-slider__nav-next",prevEl:".main-slider__nav-prev"}}),new Swiper(".about-gallery__slider",{speed:500,slidesPerView:1,loop:!0,pagination:{el:".about-gallery__pagination"},navigation:{nextEl:".about-gallery__nav-next",prevEl:".about-gallery__nav-prev"}})});
//# sourceMappingURL=../sourcemaps/main.min.js.map
